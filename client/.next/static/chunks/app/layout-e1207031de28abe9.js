(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3845:function(e,t,r){Promise.resolve().then(r.bind(r,4341)),Promise.resolve().then(r.t.bind(r,936,23)),Promise.resolve().then(r.t.bind(r,8877,23))},4341:function(e,t,r){"use strict";r.r(t),r.d(t,{Providers:function(){return Providers}});var n=r(7437),s=r(9734),o=r(5171),l=r(165),i=r(7021),c=r(4543),u=r(1396),a=r.n(u),d=r(2265),h=r(8910),x=r(1528),f=r(9695),m=r(1555),g=r(5968),j=r(1349),p=r(7415),v=r(6435),components_Header=()=>{let[e,t]=(0,d.useState)(!1),{isAuthenticated:r,handleLogout:s}=(0,j.a)();if((0,d.useEffect)(()=>{t(!0)},[]),!e)return null;let{theme:o,setTheme:l}=(0,v.F)();return(0,n.jsxs)(f.R,{className:"w-full h-[3rem] bg-purple-600 absolute top-0 left-0 items-center text-white duration-200 ".concat("dark"===o&&"bg-purple-950"),children:[(0,n.jsx)(m.H,{children:(0,n.jsx)(a(),{className:"uppercase text-3xl font-semibold",href:"/",children:"posts"})}),(0,n.jsx)(g.k,{children:(0,n.jsxs)(a(),{className:"flex items-center gap-1",href:"/create",children:[(0,n.jsx)(h.E49,{size:20}),"New Post"]})}),(0,n.jsx)(g.k,{children:r?(0,n.jsx)("span",{className:"cursor-pointer",onClick:()=>{s(),p.Am.success("Signed out")},children:"Logout"}):(0,n.jsx)(a(),{href:"/login",children:"Login"})}),(0,n.jsx)("div",{className:"cursor-pointer",children:"light"===o?(0,n.jsx)(x.Mei,{className:"text-white",size:21,onClick:()=>l("dark")}):(0,n.jsx)(x.TLr,{size:21,onClick:()=>l("light")})})]})};r(4193);let k=new o.S;function Providers(e){let{children:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.H,{children:(0,n.jsxs)(l.aH,{client:k,children:[(0,n.jsx)(s.w,{children:(0,n.jsxs)(v.f,{attribute:"class",defaultTheme:"light",children:[(0,n.jsx)(components_Header,{}),t]})}),(0,n.jsx)(i.t,{})]})}),(0,n.jsx)(p.Ix,{position:"top-center",autoClose:1500,hideProgressBar:!0})]})}},4543:function(e,t,r){"use strict";r.d(t,{H:function(){return AuthContextProvider},V:function(){return o}});var n=r(7437),s=r(2265);let o=(0,s.createContext)(null),AuthContextProvider=e=>{let{children:t}=e,[r,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("email");l(!!e),c(t)},[r]),(0,s.useEffect)(()=>{console.log(i)},[i]),(0,n.jsx)(o.Provider,{value:{isAuthenticated:r,userEmail:i,handleLogin:(e,t)=>{console.log("email:",e),l(!0),localStorage.setItem("token",t),localStorage.setItem("email",e),c(e)},handleLogout:()=>{l(!1),localStorage.removeItem("token"),localStorage.removeItem("email"),c(null)}},children:t})}},1349:function(e,t,r){"use strict";r.d(t,{a:function(){return useAuth}});var n=r(4543),s=r(2265);let useAuth=()=>{let e=(0,s.useContext)(n.V);if(!e)throw Error("Failed to use AuthContext");return e}},8877:function(){}},function(e){e.O(0,[582,420,745,396,633,505,386,79,971,864,744],function(){return e(e.s=3845)}),_N_E=e.O()}]);