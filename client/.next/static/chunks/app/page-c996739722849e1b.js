(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8395:function(e,s,t){Promise.resolve().then(t.bind(t,1802))},1973:function(e,s,t){"use strict";t.d(s,{Jq:function(){return getPosts},PR:function(){return getUser},xl:function(){return getPost}});var n=t(9222);let getPosts=async()=>{try{let e=await n.Z.get("https://forums-api.onrender.com/posts");return e}catch(e){console.error(e)}},getPost=async e=>{try{let s=await n.Z.get("https://forums-api.onrender.com/".concat(e));return s}catch(e){console.error(e)}},getUser=async e=>{try{let s=await n.Z.get("https://forums-api.onrender.com/".concat(e));return s}catch(e){console.error(e)}}},1802:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Home}});var n=t(7437),r=t(4874),o=t(1973),l=t(6914),c=t(4042),i=t(8676),a=t(6435),d=t(6691),u=t.n(d),m=t(1396),g=t.n(m),components_PostCard=e=>{var s,t;let{post:r,isLoading:o}=e,d=(()=>{let e=null==r?void 0:r.body,s=(null==r?void 0:r.body.length)>200;return s?e.substring(0,200)+"...":e})();console.log(r);let{theme:m}=(0,a.F)();return(0,n.jsx)(g(),{href:"/post/".concat(null==r?void 0:r._id),children:(0,n.jsxs)(l.w,{className:"p-10 m-3 mx-auto flex flex-col border-b-8 max-md:rounded hover:scale-[100.5%] duration-200 ".concat((null==r?void 0:r.category)==="blue"?"border-b-blue-500":(null==r?void 0:r.category)==="red"?"border-b-red-500":(null==r?void 0:r.category)==="yellow"?"border-b-yellow-400":""," ").concat("dark"===m?"hover:bg-gray-800":"hover:bg-gray-100"," "),children:[(0,n.jsxs)(c.u,{className:"grid lg:grid-cols-3",children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.h,{size:"lg",src:null==r?void 0:null===(s=r.user)||void 0===s?void 0:s.image})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"text-xl font-semibold",children:null==r?void 0:r.title}),(0,n.jsxs)("p",{className:"text-sm text-gray-500",children:["Posted by ",null==r?void 0:null===(t=r.user)||void 0===t?void 0:t.userName]})]}),(0,n.jsxs)("div",{className:"flex justify-start md:justify-end items-center gap-1",children:[(0,n.jsx)(u(),{src:"/message.svg",alt:"message icon",width:40,height:40}),(0,n.jsx)("p",{className:"font-semibold",children:null==r?void 0:r.comments.length})]})]}),(0,n.jsx)("div",{className:"lg:px-20 mt-10",children:(0,n.jsx)("p",{children:d})})]})})},h=t(2695);function Home(){let{data:e,isLoading:s}=(0,r.a)({queryKey:["posts"],queryFn:o.Jq});console.log(s);let t=(null==e?void 0:e.data)||[];return(console.log(t),s)?(0,n.jsx)("div",{className:"flex justify-center items-center pt-24",children:(0,n.jsx)(h.c,{label:"Loading...",color:"secondary"})}):(0,n.jsx)("section",{className:"flex min-h-screen flex-col items-center justify-between md:p-24 pt-24",children:(0,n.jsx)("div",{className:"max-w-[62rem]",children:null==t?void 0:t.map(e=>(0,n.jsx)(components_PostCard,{post:e,isLoading:s},e._id))})})}}},function(e){e.O(0,[745,534,396,353,481,971,864,744],function(){return e(e.s=8395)}),_N_E=e.O()}]);