(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{1485:function(e,t,r){Promise.resolve().then(r.bind(r,2073))},2073:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Create}});var s=r(7437),a=r(3159),n=r(9174),o=r(8740),l=r(6987),i=r(667),d=r(1865),u=r(3800),c=r(9222),m=r(4033),x=r(4001),h=r(2265),components_CreateForm=()=>{let[e,t]=(0,h.useState)(!1),r=(0,m.useRouter)(),p={title:"",body:"",category:"",createdAt:new Date().toLocaleDateString(),updatedAt:"",user:{email:"",password:"",image:"",_id:""}},{register:f,handleSubmit:b,formState:{errors:j}}=(0,d.cI)(p),y=localStorage.getItem("token"),newPostMutation=async e=>{t(!0);let r=await c.Z.post("https://forums-api.onrender.com/posts/",e,{headers:{Authorization:"Bearer ".concat(y)}});return r.data},g=(0,x.D)(newPostMutation,{onSuccess:e=>{t(!1),r.push("/")},onError:e=>{console.error(e),t(!1)}}),onSubmit=async e=>{g.mutate(e)};return(0,s.jsxs)("div",{className:"mx-auto max-w-[30rem] mt-10 rounded-xl border shadow-lg p-10",children:[(0,s.jsx)("h1",{}),(0,s.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:b(onSubmit),children:[(0,s.jsx)(a.g,{...f("category",{required:"Select a category"}),label:"Select Category",children:[{id:0,value:"red",name:"Red"},{id:1,value:"blue",name:"Blue"},{id:2,value:"yellow",name:"Yellow"}].map(e=>(0,s.jsx)(n.R,{value:e.value,children:e.name},e.value))}),(0,s.jsx)(u.B,{errors:j,name:"category",render:e=>{let{message:t}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm font-semibold",children:t})}}),(0,s.jsx)(o.Y,{...f("title",{required:"This field is required"}),type:"text",label:"Title"}),(0,s.jsx)(u.B,{errors:j,name:"title",render:e=>{let{message:t}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm font-semibold",children:t})}}),(0,s.jsx)(l.Y,{...f("body",{required:"This field is required"}),type:"text",label:"Description",labelPlacement:"inside"}),(0,s.jsx)(u.B,{errors:j,name:"body",render:e=>{let{message:t}=e;return(0,s.jsx)("p",{className:"text-red-500 text-sm font-semibold",children:t})}}),(0,s.jsx)(i.A,{isLoading:e,type:"submit",className:"w-full",color:"secondary",children:"Post"})]})]})};function Create(){return(0,s.jsx)("section",{className:"w-full h-[100vh] pt-24 ",children:(0,s.jsx)(components_CreateForm,{})})}}},function(e){e.O(0,[745,534,674,505,546,971,864,744],function(){return e(e.s=1485)}),_N_E=e.O()}]);