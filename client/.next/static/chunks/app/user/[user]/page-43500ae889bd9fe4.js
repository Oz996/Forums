(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{588:function(e,a,r){Promise.resolve().then(r.bind(r,7334))},1973:function(e,a,r){"use strict";r.d(a,{Jq:function(){return getPosts},PR:function(){return getUser},xl:function(){return getPost}});var s=r(9222);let getPosts=async()=>{try{let e=await s.Z.get("https://forums-api.onrender.com/posts");return e}catch(e){console.error(e)}},getPost=async e=>{try{let a=await s.Z.get("https://forums-api.onrender.com/".concat(e));return a}catch(e){console.error(e)}},getUser=async e=>{try{let a=await s.Z.get("https://forums-api.onrender.com/".concat(e));return a}catch(e){console.error(e)}}},7334:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return User}});var s=r(7437),n=r(1973),t=r(1349),l=r(4318),o=r(667),i=r(4823),d=r(2749),c=r(1718),u=r(9571),m=r(2913),g=r(9222),h=r(4033),f=r(7415),components_DeleteUserModal=e=>{let{id:a}=e,{isOpen:r,onOpen:n,onOpenChange:v}=(0,l.q)(),{handleLogout:p}=(0,t.a)(),b=(0,h.useRouter)(),y=localStorage.getItem("token"),deleteMutation=async e=>{let r=await g.Z.delete("https://forums-api.onrender.com/users/".concat(a),{headers:{Authorization:"Bearer ".concat(y)}});200===r.status&&(b.push("/"),f.Am.success("User deleted"),p())};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{color:"danger",onPress:n,children:"Delete User"}),(0,s.jsx)(i.R,{backdrop:"opaque",isOpen:r,onOpenChange:v,classNames:{backdrop:"bg-gradient-to-t from-zinc-900 to-zinc-900/10 backdrop-opacity-20"},children:(0,s.jsx)(d.A,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.k,{className:"flex flex-col gap-1",children:"User Deletion"}),(0,s.jsx)(u.I,{children:(0,s.jsx)("p",{children:"Are you sure you want to delete your account? Account recovery will not be possible"})}),(0,s.jsxs)(m.R,{children:[(0,s.jsx)(o.A,{variant:"light",onPress:e,children:"Close"}),(0,s.jsx)(o.A,{color:"danger",variant:"light",onPress:e,onClick:deleteMutation,children:"Delete"})]})]})})})]})},v=r(6914),p=r(8676),b=r(4874);function User(e){var a,r,l,i,d,c,u;let{params:m}=e;console.log(m.user);let{data:g}=(0,b.a)({queryKey:["user"],queryFn:()=>(0,n.PR)(m.user)}),{userEmail:h}=(0,t.a)();return console.log(g),(0,s.jsx)("section",{className:"pt-24",children:(0,s.jsx)("div",{className:"max-w-[62rem] mx-auto",children:(0,s.jsx)(v.w,{className:"p-10 px-20",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsx)(p.h,{size:"lg",className:"mb-2",src:null==g?void 0:null===(a=g.data)||void 0===a?void 0:a.image}),(0,s.jsx)(o.A,{children:"Change Image"}),(0,s.jsx)("p",{className:"font-semibold",children:"Email"}),(0,s.jsx)("p",{children:null==g?void 0:null===(r=g.data)||void 0===r?void 0:r.email}),(0,s.jsx)("p",{className:"font-semibold",children:"Username"}),(0,s.jsxs)("p",{children:[" ",null==g?void 0:null===(l=g.data)||void 0===l?void 0:l.userName]}),(0,s.jsx)("p",{className:"mt-1",children:"Member since"})," ",(0,s.jsx)("p",{className:"mt-1",children:null==g?void 0:null===(d=g.data)||void 0===d?void 0:null===(i=d.createdAt)||void 0===i?void 0:i.slice(0,10)})]}),(0,s.jsx)("div",{children:h===(null==g?void 0:null===(c=g.data)||void 0===c?void 0:c.email)&&(0,s.jsx)(components_DeleteUserModal,{id:null==g?void 0:null===(u=g.data)||void 0===u?void 0:u._id})})]})})})})}},4543:function(e,a,r){"use strict";r.d(a,{H:function(){return AuthContextProvider},V:function(){return t}});var s=r(7437),n=r(2265);let t=(0,n.createContext)(null),AuthContextProvider=e=>{let{children:a}=e,[r,l]=(0,n.useState)(!1),[o,i]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("email");l(!!e),i(a)},[r]),(0,n.useEffect)(()=>{console.log(o)},[o]),(0,s.jsx)(t.Provider,{value:{isAuthenticated:r,userEmail:o,handleLogin:(e,a)=>{console.log("email:",e),l(!0),localStorage.setItem("token",a),localStorage.setItem("email",e),i(e)},handleLogout:()=>{l(!1),localStorage.removeItem("token"),localStorage.removeItem("email"),i(null)}},children:a})}},1349:function(e,a,r){"use strict";r.d(a,{a:function(){return useAuth}});var s=r(4543),n=r(2265);let useAuth=()=>{let e=(0,n.useContext)(s.V);if(!e)throw Error("Failed to use AuthContext");return e}},4033:function(e,a,r){e.exports=r(290)},667:function(e,a,r){"use strict";r.d(a,{A:function(){return j}});var[s,n]=(0,r(3024).k)({name:"ButtonGroupContext",strict:!1}),t=r(8794),l=r(2265),o=r(6565),i=r(2650),d=r(5312),c=r(9662),u=r(9040),m=r(9504),g=r(7174),h=(0,m.tv)({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-none","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent",...g.Dh],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-unit-3 min-w-unit-16 h-unit-8 text-tiny gap-unit-2 rounded-small",md:"px-unit-4 min-w-unit-20 h-unit-10 text-small gap-unit-2 rounded-medium",lg:"px-unit-6 min-w-unit-24 h-unit-12 text-medium gap-unit-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-unit-0 !gap-unit-0",false:"[&>svg]:max-w-[theme(spacing.unit-8)]"},disableAnimation:{true:"!transition-none",false:"data-[pressed=true]:scale-[0.97] transition-transform-colors motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1,disableAnimation:!1},compoundVariants:[{variant:"solid",color:"default",class:u.J.solid.default},{variant:"solid",color:"primary",class:u.J.solid.primary},{variant:"solid",color:"secondary",class:u.J.solid.secondary},{variant:"solid",color:"success",class:u.J.solid.success},{variant:"solid",color:"warning",class:u.J.solid.warning},{variant:"solid",color:"danger",class:u.J.solid.danger},{variant:"shadow",color:"default",class:u.J.shadow.default},{variant:"shadow",color:"primary",class:u.J.shadow.primary},{variant:"shadow",color:"secondary",class:u.J.shadow.secondary},{variant:"shadow",color:"success",class:u.J.shadow.success},{variant:"shadow",color:"warning",class:u.J.shadow.warning},{variant:"shadow",color:"danger",class:u.J.shadow.danger},{variant:"bordered",color:"default",class:u.J.bordered.default},{variant:"bordered",color:"primary",class:u.J.bordered.primary},{variant:"bordered",color:"secondary",class:u.J.bordered.secondary},{variant:"bordered",color:"success",class:u.J.bordered.success},{variant:"bordered",color:"warning",class:u.J.bordered.warning},{variant:"bordered",color:"danger",class:u.J.bordered.danger},{variant:"flat",color:"default",class:u.J.flat.default},{variant:"flat",color:"primary",class:u.J.flat.primary},{variant:"flat",color:"secondary",class:u.J.flat.secondary},{variant:"flat",color:"success",class:u.J.flat.success},{variant:"flat",color:"warning",class:u.J.flat.warning},{variant:"flat",color:"danger",class:u.J.flat.danger},{variant:"faded",color:"default",class:u.J.faded.default},{variant:"faded",color:"primary",class:u.J.faded.primary},{variant:"faded",color:"secondary",class:u.J.faded.secondary},{variant:"faded",color:"success",class:u.J.faded.success},{variant:"faded",color:"warning",class:u.J.faded.warning},{variant:"faded",color:"danger",class:u.J.faded.danger},{variant:"light",color:"default",class:[u.J.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[u.J.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[u.J.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[u.J.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[u.J.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[u.J.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:u.J.ghost.default},{variant:"ghost",color:"primary",class:u.J.ghost.primary},{variant:"ghost",color:"secondary",class:u.J.ghost.secondary},{variant:"ghost",color:"success",class:u.J.ghost.success},{variant:"ghost",color:"warning",class:u.J.ghost.warning},{variant:"ghost",color:"danger",class:u.J.ghost.danger},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-l-small last:rounded-r-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-l-medium last:rounded-r-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-l-large last:rounded-r-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-l-full last:rounded-r-full"},{isInGroup:!0,variant:["bordered","ghost"],class:"[&:not(:first-child)]:ml-[calc(theme(borderWidth.medium)*-1)]"},{isIconOnly:!0,size:"sm",class:"min-w-unit-8 w-unit-8 h-unit-8"},{isIconOnly:!0,size:"md",class:"min-w-unit-10 w-unit-10 h-unit-10"},{isIconOnly:!0,size:"lg",class:"min-w-unit-12 w-unit-12 h-unit-12"}]});(0,m.tv)({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var f=r(2835),v=r(6820),p=r(1533),b=r(2695),y=r(4089),x=r(4480),w=r(7437),J=(0,x.Gp)((e,a)=>{let{Component:r,domRef:s,children:u,styles:m,spinnerSize:g,spinner:x=(0,w.jsx)(b.c,{color:"current",size:g}),spinnerPlacement:J,startContent:j,endContent:I,isLoading:C,disableRipple:P,getButtonProps:k,getRippleProps:A}=function(e){var a,r,s,u,m,g,b,y;let x=n(),w=!!x,{ref:J,as:j,children:I,startContent:C,endContent:P,autoFocus:k,className:A,spinner:N,fullWidth:z=null!=(a=null==x?void 0:x.fullWidth)&&a,size:U=null!=(r=null==x?void 0:x.size)?r:"md",color:D=null!=(s=null==x?void 0:x.color)?s:"default",variant:G=null!=(u=null==x?void 0:x.variant)?u:"solid",disableAnimation:S=null!=(m=null==x?void 0:x.disableAnimation)&&m,radius:B=null==x?void 0:x.radius,disableRipple:E=null!=(g=null==x?void 0:x.disableRipple)&&g,isDisabled:O=null!=(b=null==x?void 0:x.isDisabled)&&b,isIconOnly:_=null!=(y=null==x?void 0:x.isIconOnly)&&y,isLoading:M=!1,spinnerPlacement:R="start",onPress:V,onClick:W,...q}=e,F=j||"button",Z="string"==typeof F,L=(0,d.gy)(J),{isFocusVisible:H,isFocused:K,focusProps:T}=(0,o.Fx)({autoFocus:k}),X=O||M,Q=(0,l.useMemo)(()=>h({size:U,color:D,variant:G,radius:B,fullWidth:z,isDisabled:X,isInGroup:w,disableAnimation:S,isIconOnly:_,className:A}),[U,D,G,B,z,X,w,_,S,A]),{onClick:Y,onClear:$,ripples:ee}=(0,p.i)(),ea=(0,l.useCallback)(e=>{E||X||S||!L.current||Y(e)},[E,X,S,L,Y]),{buttonProps:er,isPressed:es}=(0,f.j)({elementType:j,isDisabled:X,onPress:V,onClick:(0,i.tS)(W,ea),...q},L),{isHovered:en,hoverProps:et}=(0,v.XI)({isDisabled:X}),el=(0,l.useCallback)((e={})=>({"data-disabled":(0,t.PB)(X),"data-focus":(0,t.PB)(K),"data-pressed":(0,t.PB)(es),"data-focus-visible":(0,t.PB)(H),"data-hover":(0,t.PB)(en),"data-loading":(0,t.PB)(M),...(0,i.dG)(er,T,et,(0,c.z)(q,{enabled:Z}),(0,c.z)(e))}),[M,X,K,es,Z,H,en,er,T,et,q]),getIconClone=e=>(0,l.isValidElement)(e)?(0,l.cloneElement)(e,{"aria-hidden":!0,focusable:!1,tabIndex:-1}):null,eo=getIconClone(C),ei=getIconClone(P),ed=(0,l.useMemo)(()=>({sm:"sm",md:"sm",lg:"md"})[U],[U]),ec=(0,l.useCallback)(()=>({ripples:ee,onClear:$}),[ee,$]);return{Component:F,children:I,domRef:L,spinner:N,styles:Q,startContent:eo,endContent:ei,isLoading:M,spinnerPlacement:R,spinnerSize:ed,disableRipple:E,getButtonProps:el,getRippleProps:ec}}({...e,ref:a});return(0,w.jsxs)(r,{ref:s,className:m,...k(),children:[j,C&&"start"===J&&x,u,C&&"end"===J&&x,I,!P&&(0,w.jsx)(y.L,{...A()})]})});J.displayName="NextUI.Button";var j=J}},function(e){e.O(0,[745,534,633,505,353,386,520,971,864,744],function(){return e(e.s=588)}),_N_E=e.O()}]);